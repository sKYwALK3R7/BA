import serial
import time

motor = serial.Serial("/dev/ttyUSB0", 38400, timeout=1, parity='E', stopbits=2, bytesize=8)

def read_from_motor():
    response = motor.read(8)
    print("Response:\t", response)
    # motor.flush()

while True:
    # 01 06 20 09 00 01 93 C8
    # 01 06 60 0A 00 00 B7 C8
    # 01 06 60 02 00 20 37 D2
    # 0x01, 0x10, 0x62, 0x00, 0x00, 0x08, 0x10, 0x00, 0x01, 0x00, 0x01, 0x86, 0xA0, 0x01, 0xF4, 0x00, 0x64, 0x00, 0x64, 0x00, 0x00, 0x00, 0x10, 0xAA, 0xBF
    # message = bytes([0x01, 0x06, 0x60, 0x02, 0x00, 0x02, 0x85, 0xCA])
    message = bytes([0x01, 0x06, 0x20, 0x09, 0x00, 0x01, 0x93, 0xC8]) #, 0x02, 0x00, 0x00, 0x00, 0x00, 0x03, 0xE8, 0x00, 0x64, 0x00, 0x64, 0x00, 0x00, 0x00, 0x10, 0xDA, 0x41])
    # print("Message:\t", message)
    motor.write(message)
    read_from_motor()
    time.sleep(0.001)